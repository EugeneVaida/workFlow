{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAA6C;AACE;AACN;AACM;AACF;AACJ;AAWzC;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAT3B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,0DAAW;gBACX,4DAAY;gBACZ,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,qDAAS,EAAE,CAAC,CAAC;aAC5D;YACD,YAAY,EAAE,CAAC,qDAAS,CAAC;SAC1B,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;AChB5B,60C;;;;;;;;;;;ACAA,6BAA6B,mBAAmB,qBAAqB,EAAE,iBAAiB,mBAAmB,mBAAmB,EAAE,+CAA+C,2gB;;;;;;;;;;;;;;;;;;;;;ACArI;AACW;AAEK;AACjB;AACkB;AAER;AAQnD;IAKE,mBACS,WAAwB,EACvB,MAAc,EACf,OAAsB,EACtB,IAAoB,EACpB,UAAsB;QAJtB,gBAAW,GAAX,WAAW,CAAa;QACvB,WAAM,GAAN,MAAM,CAAQ;QACf,YAAO,GAAP,OAAO,CAAe;QACtB,SAAI,GAAJ,IAAI,CAAgB;QACpB,eAAU,GAAV,UAAU,CAAY;QAT/B,iBAAY,GAAY,KAAK,CAAC;QAC9B,cAAS,GAAY,KAAK,CAAC;QAC3B,qBAAgB,GAAG,EAAE,QAAQ,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;IAOf,CAAC;IAEpC,oCAAgB,GAAhB;QACE,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC7B,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAcC;QAbC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAC,IAAS;YACtH,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACrD,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC7C,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5C,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;QACtC,CAAC,EACC,UAAC,GAAsB;YACrB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IA9BU,SAAS;QANrB,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,yFAA8B;;SAE/B,CAAC;+EAQsB,gEAAW;YACf,sDAAM;YACN,4DAAa;YAChB,6DAAc;YACR,8DAAU;OAVpB,SAAS,CAgCrB;IAAD,gBAAC;CAAA;AAhCqB","file":"login-login-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: LoginPage }])\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"\\r\\n<ion-content class=\\\"login-content\\\" padding>  \\r\\n  <form (ngSubmit)=\\\"onSubmit()\\\" #registerForm=\\\"ngForm\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row justify-content-center>\\r\\n        <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\r\\n          <div text-center>\\r\\n            <h4>Форма входа</h4>\\r\\n          </div>\\r\\n          <div padding>\\r\\n            <ion-item>\\r\\n              <ion-input type=\\\"text\\\" placeholder=\\\"Имя пользователя\\\" name=\\\"UserName\\\" [(ngModel)]=\\\"loginCredentials.UserName\\\"\\r\\n                required></ion-input>\\r\\n            </ion-item>\\r\\n\\r\\n            <ion-item>\\r\\n              <ion-input type=\\\"password\\\" placeholder=\\\"Пароль\\\" name=\\\"Password\\\" [(ngModel)]=\\\"loginCredentials.Password\\\"\\r\\n                required></ion-input>\\r\\n            </ion-item>\\r\\n\\r\\n          </div>\\r\\n\\r\\n          <div padding>\\r\\n            <ion-button size=\\\"large\\\" type=\\\"submit\\\" expand=\\\"block\\\">Войти</ion-button>\\r\\n          </div>\\r\\n\\r\\n          <ion-spinner *ngIf=\\\"userService.isLogging\\\"></ion-spinner>\\r\\n          <div text-center *ngIf=\\\"isLoginError\\\" class=\\\"red-text error-message\\\">            \\r\\n            Неверноое имя пользователя или пароль\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </form>  \\r\\n</ion-content>\"","module.exports = \".red-text {\\n  color: #bb5252;\\n  font-weight: 700; }\\n\\nion-spinner {\\n  display: block;\\n  margin: 0 auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vRDpcXHByb2plY3RzXFxXb3JrRmxvd0NsaWVudFxcd29ya0Zsb3cvc3JjXFxhcHBcXGxvZ2luXFxsb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUF1QjtFQUN2QixnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxjQUFjO0VBQ2QsY0FBYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZC10ZXh0e1xuICBjb2xvcjogcmdiKDE4NywgODIsIDgyKTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbn1cblxuaW9uLXNwaW5uZXIge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAwIGF1dG87XG59Il19 */\"","import { Component } from '@angular/core';\nimport { UserService } from '../shared/user.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { NavController, NavParams } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { MenuController, IonSlides } from '@ionic/angular';\nimport { User } from '../shared/user.model';\nimport { TabService } from '../shared/tab.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: 'login.page.html',\n  styleUrls: ['login.page.scss']\n})\n\nexport class LoginPage {\n  isLoginError: boolean = false;\n  isLogging: boolean = false;\n  loginCredentials = { UserName: '', Password: '' };\n\n  constructor(\n    public userService: UserService,\n    private router: Router,\n    public navCtrl: NavController,\n    public menu: MenuController,\n    public tabService: TabService) { }\n\n  ionViewWillEnter() {\n    this.tabService.hideTabs();\n  }\n\n  onSubmit() {\n    this.isLoginError = false;\n    this.isLogging = true;\n    this.userService.userAuthentication(this.loginCredentials.UserName, this.loginCredentials.Password).subscribe((data: any) => {\n      localStorage.setItem('userToken', data.access_token);\n      localStorage.setItem('userRoles', data.role);\n      localStorage.setItem('userId', data.userId);\n      this.isLogging = false;\n      this.router.navigate(['/projects']);\n    },\n      (err: HttpErrorResponse) => {\n        this.isLogging = false;\n        this.isLoginError = true;\n      });\n  }\n\n}\n\n"],"sourceRoot":""}